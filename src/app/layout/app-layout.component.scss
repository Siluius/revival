.layout { display: grid; grid-template-columns: 240px 1fr; grid-template-rows: 64px 1fr; height: 100vh; }
.layout.collapsed { grid-template-columns: 64px 1fr; }
.sidenav { grid-row: 1 / span 2; grid-column: 1; padding: 8px 0; border-right: 1px solid #e0e0e0; overflow: auto; }
.topbar { grid-row: 1; grid-column: 2; padding: 0 16px; display: flex; align-items: center; gap: 8px; }
.spacer { flex: 1; }
.content { grid-row: 2; grid-column: 2; padding: var(--content-padding); overflow: auto; }

.sidenav .mat-mdc-list-item { padding: 10px 12px 10px 16px; border-radius: 0 24px 24px 0; margin-right: 8px; gap: 12px; align-items: center; }
.sidenav a[mat-list-item] { color: inherit; display: inline-flex; align-items: center; line-height: 24px; }
.sidenav a[mat-list-item] mat-icon { color: inherit; margin-left: 4px; font-size: 20px; height: 20px; width: 20px; display: inline-flex; align-items: center; justify-content: center; }
.sidenav a[mat-list-item] .label { white-space: nowrap; display: inline-flex; align-items: center; height: 24px; }
.sidenav a[mat-list-item].active, .sidenav a[mat-list-item]:hover { background: rgba(0,0,0,0.06); }

.layout.collapsed .sidenav .mat-mdc-list-item { justify-content: center; gap: 0; }
.layout.collapsed .sidenav a[mat-list-item] .label { display: none; }
.layout.collapsed .sidenav a[mat-list-item] { padding-left: 0; padding-right: 0; }

/* Theme-specific sidenav backgrounds */
:host-context(.theme-light) .sidenav { background: #fff; border-right-color: #e0e0e0; }

/* Dark theme overrides for better contrast */
:host-context(.theme-dark) .sidenav { background: #161718; border-right-color: rgba(255,255,255,0.08); }
:host-context(.theme-dark) .sidenav a[mat-list-item] { color: rgba(255,255,255,0.92); }
:host-context(.theme-dark) .sidenav a[mat-list-item] mat-icon { color: rgba(255,255,255,0.92); }
:host-context(.theme-dark) .sidenav a[mat-list-item].active, :host-context(.theme-dark) .sidenav a[mat-list-item]:hover { background: rgba(255,255,255,0.09); }

:host-context(.theme-dark) .topbar { background: #1f2022; }

a { text-decoration: none; color: inherit; }
a.active { font-weight: 600; }

.loading-overlay { position: fixed; inset: 0; z-index: 2000; background: rgba(0,0,0,0.28); display: flex; align-items: center; justify-content: center; backdrop-filter: blur(1px); }
.spinner { width: 64px; height: 64px; border-radius: 50%; border: 6px solid rgba(255,255,255,0.4); border-top-color: #1976d2; animation: spin 1s linear infinite; box-shadow: 0 0 0 1px rgba(0,0,0,0.06) inset; }
@keyframes spin { to { transform: rotate(360deg); } }


